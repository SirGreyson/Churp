<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="username-input.html">
<link rel="import" href="password-input.html">
<link rel="import" href="twitter-username-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">

<script src="../bower_components/firebase/firebase.js"></script>
<script src="../js/main.js"></script>


<dom-module id="register-form">

    <style>
        paper-button {
            width: 100%;
            --paper-button-ink-color: blue;
        }

        paper-toast {
            text-align: center;
            background: red;
        }
        
        #container {
            padding-bottom: 5em;
        }
        
    </style>

    <template>
        <div id="container">
        <h1><center>LOGOoOooOo0oO</center></h1>
        <br>
        <br>
        <br>
        <div class="inputs">
            <twitter-username-input bind-value="{{twittername}}"></twitter-username-input>
            <password-input bind-value="{{password}}"> </password-input>
            <br>
            <paper-button raised on-tap="newUser"> REGISTER </paper-button>
        </div>

        
        <paper-button raised onclick="toast3.open()">IF PASSWORD RETURNS INCORRECT</paper-button>

        <paper-toast id="toast3" class="fit-bottom" text="Password incorrect"></paper-toast>
<script>
  toast3.fitInto = container;
</script>
        </div>
        
  </template>

    <script>
        
                
        Polymer({
      is: "register-form",
      properties: {
          email: {
              type: String,
          },
          password: {
              type: String
          },
          twittername: {
              type: String
          },
          isRegistered: {
              type: Boolean
          }
      },
        newUser: function () {
            userExists(this.twittername).then(function(success){
                if (!success) {
                    console.log(this.twittername)
                    console.log(this.password)
                    addUser(this.twittername, this.password);  
                } else {
                    console.log('Uername is taken');
                }
            },this.properties)
        }
      
      
    });
    </script>

</dom-module>